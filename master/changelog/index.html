<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=../contributing/ rel=prev><link rel=icon href=../assets/logo/edsnlp.svg><meta name=generator content="mkdocs-1.5.3, mkdocs-material-9.2.8"><title>Changelog - EDS-NLP</title><link rel=stylesheet href=../assets/stylesheets/main.046329b4.min.css><link rel=stylesheet href=../assets/stylesheets/palette.85d0ee34.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../assets/_mkdocstrings.css><link rel=stylesheet href=../assets/stylesheets/extra.css><link rel=stylesheet href=../assets/stylesheets/cards.css><link rel=stylesheet href=../assets/termynal/termynal.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href="#changelog" class=md-skip> Skip to content </a> </div> <div data-md-component=announce> <aside class=md-banner> <div class="md-banner__inner md-grid md-typeset"> <button class="md-banner__button md-icon" aria-label="Don't show this again"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> EDS-NLP v0.11 introduces <a href="../concepts/pipeline#creating-a-pipeline">a new way</a> to add pipes to your models, an <a href="../pipes/trainable/span-linker">entity linker</a> and many other <a href=".">features</a> ! </div> <script>var content,el=document.querySelector("[data-md-component=announce]");el&&(content=el.querySelector(".md-typeset"),__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0))</script> </aside> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=".." title=EDS-NLP class="md-header__button md-logo" aria-label=EDS-NLP data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> EDS-NLP </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Changelog </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href="https://github.com/aphp/edsnlp" title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> aphp/edsnlp </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=".." title=EDS-NLP class="md-nav__button md-logo" aria-label=EDS-NLP data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg> </a> EDS-NLP </label> <div class=md-nav__source> <a href="https://github.com/aphp/edsnlp" title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> aphp/edsnlp </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=".." class=md-nav__link> <span class=md-ellipsis> Getting started </span> </a> </li> <li class=md-nav__item> <a href="https://aphp.github.io/edsnlp/demo" target=_blank class=md-nav__link> <span class=md-ellipsis> Demo </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href="../tutorials/" class=md-nav__link> <span class=md-ellipsis> Tutorials </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href="../pipes/" class=md-nav__link> <span class=md-ellipsis> Pipes </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href="../tokenizers/" class=md-nav__link> <span class=md-ellipsis> Tokenizers </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href="../data/" class=md-nav__link> <span class=md-ellipsis> Data Connectors </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href="../concepts/pipeline/" class=md-nav__link> <span class=md-ellipsis> Concepts </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href="../utilities/" class=md-nav__link> <span class=md-ellipsis> Utilities </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href="../reference/edsnlp/" class=md-nav__link> <span class=md-ellipsis> Code Reference </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href="../contributing/" class=md-nav__link> <span class=md-ellipsis> Contributing to EDS-NLP </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Changelog </span> <span class="md-nav__icon md-icon"></span> </label> <a href="./" class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Changelog </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href="#v0123" class=md-nav__link> v0.12.3 </a> <nav class=md-nav aria-label=v0.12.3> <ul class=md-nav__list> <li class=md-nav__item> <a href="#changed" class=md-nav__link> Changed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v0121" class=md-nav__link> v0.12.1 </a> <nav class=md-nav aria-label=v0.12.1> <ul class=md-nav__list> <li class=md-nav__item> <a href="#added" class=md-nav__link> Added </a> </li> <li class=md-nav__item> <a href="#fixed" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v0120" class=md-nav__link> v0.12.0 </a> <nav class=md-nav aria-label=v0.12.0> <ul class=md-nav__list> <li class=md-nav__item> <a href="#added_1" class=md-nav__link> Added </a> </li> <li class=md-nav__item> <a href="#changed_1" class=md-nav__link> Changed </a> </li> <li class=md-nav__item> <a href="#fixed_1" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v0112" class=md-nav__link> v0.11.2 </a> <nav class=md-nav aria-label=v0.11.2> <ul class=md-nav__list> <li class=md-nav__item> <a href="#fixed_2" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v0111-2024-04-02" class=md-nav__link> v0.11.1 (2024-04-02) </a> <nav class=md-nav aria-label="v0.11.1 (2024-04-02)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#added_2" class=md-nav__link> Added </a> </li> <li class=md-nav__item> <a href="#changed_2" class=md-nav__link> Changed </a> </li> <li class=md-nav__item> <a href="#fixed_3" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v0110-2024-03-29" class=md-nav__link> v0.11.0 (2024-03-29) </a> <nav class=md-nav aria-label="v0.11.0 (2024-03-29)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#added_3" class=md-nav__link> Added </a> </li> <li class=md-nav__item> <a href="#changed_3" class=md-nav__link> Changed </a> </li> <li class=md-nav__item> <a href="#fixed_4" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v0107-2024-03-12" class=md-nav__link> v0.10.7 (2024-03-12) </a> <nav class=md-nav aria-label="v0.10.7 (2024-03-12)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#added_4" class=md-nav__link> Added </a> </li> <li class=md-nav__item> <a href="#changed_4" class=md-nav__link> Changed </a> </li> <li class=md-nav__item> <a href="#fixed_5" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v0106-2024-02-24" class=md-nav__link> v0.10.6 (2024-02-24) </a> <nav class=md-nav aria-label="v0.10.6 (2024-02-24)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#added_5" class=md-nav__link> Added </a> </li> <li class=md-nav__item> <a href="#changed_5" class=md-nav__link> Changed </a> </li> <li class=md-nav__item> <a href="#fixed_6" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v0105-2024-01-29" class=md-nav__link> v0.10.5 (2024-01-29) </a> <nav class=md-nav aria-label="v0.10.5 (2024-01-29)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#fixed_7" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v0104-2024-01-19" class=md-nav__link> v0.10.4 (2024-01-19) </a> <nav class=md-nav aria-label="v0.10.4 (2024-01-19)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#changed_6" class=md-nav__link> Changed </a> </li> <li class=md-nav__item> <a href="#added_6" class=md-nav__link> Added </a> </li> <li class=md-nav__item> <a href="#fixed_8" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v0103-2024-01-11" class=md-nav__link> v0.10.3 (2024-01-11) </a> <nav class=md-nav aria-label="v0.10.3 (2024-01-11)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#added_7" class=md-nav__link> Added </a> </li> <li class=md-nav__item> <a href="#fixed_9" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v0102-2023-12-20" class=md-nav__link> v0.10.2 (2023-12-20) </a> <nav class=md-nav aria-label="v0.10.2 (2023-12-20)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#changed_7" class=md-nav__link> Changed </a> </li> <li class=md-nav__item> <a href="#fixed_10" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v0101-2023-12-15" class=md-nav__link> v0.10.1 (2023-12-15) </a> <nav class=md-nav aria-label="v0.10.1 (2023-12-15)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#changed_8" class=md-nav__link> Changed </a> </li> <li class=md-nav__item> <a href="#fixed_11" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v0100-2023-12-04" class=md-nav__link> v0.10.0 (2023-12-04) </a> <nav class=md-nav aria-label="v0.10.0 (2023-12-04)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#added_8" class=md-nav__link> Added </a> </li> <li class=md-nav__item> <a href="#changed_9" class=md-nav__link> Changed </a> </li> <li class=md-nav__item> <a href="#fixed_12" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v0100beta1-2023-12-04" class=md-nav__link> v0.10.0beta1 (2023-12-04) </a> <nav class=md-nav aria-label="v0.10.0beta1 (2023-12-04)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#added_9" class=md-nav__link> Added </a> </li> <li class=md-nav__item> <a href="#changed_10" class=md-nav__link> Changed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v092-2023-12-04" class=md-nav__link> v0.9.2 (2023-12-04) </a> <nav class=md-nav aria-label="v0.9.2 (2023-12-04)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#changed_11" class=md-nav__link> Changed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v091-2023-09-22" class=md-nav__link> v0.9.1 (2023-09-22) </a> <nav class=md-nav aria-label="v0.9.1 (2023-09-22)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#changed_12" class=md-nav__link> Changed </a> </li> <li class=md-nav__item> <a href="#fixed_13" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v090-2023-09-15" class=md-nav__link> v0.9.0 (2023-09-15) </a> <nav class=md-nav aria-label="v0.9.0 (2023-09-15)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#added_10" class=md-nav__link> Added </a> </li> <li class=md-nav__item> <a href="#changes" class=md-nav__link> Changes </a> </li> <li class=md-nav__item> <a href="#fixed_14" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v081-2023-05-31" class=md-nav__link> v0.8.1 (2023-05-31) </a> </li> <li class=md-nav__item> <a href="#v080-2023-05-24" class=md-nav__link> v0.8.0 (2023-05-24) </a> <nav class=md-nav aria-label="v0.8.0 (2023-05-24)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#added_11" class=md-nav__link> Added </a> </li> <li class=md-nav__item> <a href="#changed_13" class=md-nav__link> Changed </a> </li> <li class=md-nav__item> <a href="#fixed_15" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v074-2022-12-12" class=md-nav__link> v0.7.4 (2022-12-12) </a> <nav class=md-nav aria-label="v0.7.4 (2022-12-12)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#added_12" class=md-nav__link> Added </a> </li> <li class=md-nav__item> <a href="#changed_14" class=md-nav__link> Changed </a> </li> <li class=md-nav__item> <a href="#fixed_16" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v072-2022-10-26" class=md-nav__link> v0.7.2 (2022-10-26) </a> <nav class=md-nav aria-label="v0.7.2 (2022-10-26)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#added_13" class=md-nav__link> Added </a> </li> <li class=md-nav__item> <a href="#fixed_17" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v071-2022-10-13" class=md-nav__link> v0.7.1 (2022-10-13) </a> <nav class=md-nav aria-label="v0.7.1 (2022-10-13)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#added_14" class=md-nav__link> Added </a> </li> <li class=md-nav__item> <a href="#changed_15" class=md-nav__link> Changed </a> </li> <li class=md-nav__item> <a href="#fixed_18" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v070-2022-09-06" class=md-nav__link> v0.7.0 (2022-09-06) </a> <nav class=md-nav aria-label="v0.7.0 (2022-09-06)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#added_15" class=md-nav__link> Added </a> </li> <li class=md-nav__item> <a href="#changed_16" class=md-nav__link> Changed </a> </li> <li class=md-nav__item> <a href="#fixed_19" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v062-2022-08-02" class=md-nav__link> v0.6.2 (2022-08-02) </a> <nav class=md-nav aria-label="v0.6.2 (2022-08-02)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#added_16" class=md-nav__link> Added </a> </li> <li class=md-nav__item> <a href="#changed_17" class=md-nav__link> Changed </a> </li> <li class=md-nav__item> <a href="#fixed_20" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v061-2022-07-11" class=md-nav__link> v0.6.1 (2022-07-11) </a> <nav class=md-nav aria-label="v0.6.1 (2022-07-11)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#added_17" class=md-nav__link> Added </a> </li> <li class=md-nav__item> <a href="#changed_18" class=md-nav__link> Changed </a> </li> <li class=md-nav__item> <a href="#fixed_21" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v060-2022-06-17" class=md-nav__link> v0.6.0 (2022-06-17) </a> <nav class=md-nav aria-label="v0.6.0 (2022-06-17)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#added_18" class=md-nav__link> Added </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v053-2022-05-04" class=md-nav__link> v0.5.3 (2022-05-04) </a> <nav class=md-nav aria-label="v0.5.3 (2022-05-04)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#added_19" class=md-nav__link> Added </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v052-2022-05-04" class=md-nav__link> v0.5.2 (2022-05-04) </a> <nav class=md-nav aria-label="v0.5.2 (2022-05-04)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#added_20" class=md-nav__link> Added </a> </li> <li class=md-nav__item> <a href="#fixed_22" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v051-2022-04-11" class=md-nav__link> v0.5.1 (2022-04-11) </a> <nav class=md-nav aria-label="v0.5.1 (2022-04-11)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#fixed_23" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v050-2022-04-08" class=md-nav__link> v0.5.0 (2022-04-08) </a> <nav class=md-nav aria-label="v0.5.0 (2022-04-08)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#added_21" class=md-nav__link> Added </a> </li> <li class=md-nav__item> <a href="#changed_19" class=md-nav__link> Changed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v044-2022-03-31" class=md-nav__link> v0.4.4 (2022-03-31) </a> </li> <li class=md-nav__item> <a href="#v043-2022-03-18" class=md-nav__link> v0.4.3 (2022-03-18) </a> </li> <li class=md-nav__item> <a href="#v042-2022-03-16" class=md-nav__link> v0.4.2 (2022-03-16) </a> </li> <li class=md-nav__item> <a href="#v041-2022-03-14" class=md-nav__link> v0.4.1 (2022-03-14) </a> </li> <li class=md-nav__item> <a href="#v040-2022-02-22" class=md-nav__link> v0.4.0 (2022-02-22) </a> </li> <li class=md-nav__item> <a href="#v032-2021-11-24" class=md-nav__link> v0.3.2 (2021-11-24) </a> </li> <li class=md-nav__item> <a href="#v031-2021-10-13" class=md-nav__link> v0.3.1 (2021-10-13) </a> </li> <li class=md-nav__item> <a href="#v030-2021-09-29" class=md-nav__link> v0.3.0 (2021-09-29) </a> </li> <li class=md-nav__item> <a href="#v020-2021-09-13" class=md-nav__link> v0.2.0 (2021-09-13) </a> </li> <li class=md-nav__item> <a href="#v010-2021-09-29" class=md-nav__link> v0.1.0 (2021-09-29) </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href="#v0123" class=md-nav__link> v0.12.3 </a> <nav class=md-nav aria-label=v0.12.3> <ul class=md-nav__list> <li class=md-nav__item> <a href="#changed" class=md-nav__link> Changed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v0121" class=md-nav__link> v0.12.1 </a> <nav class=md-nav aria-label=v0.12.1> <ul class=md-nav__list> <li class=md-nav__item> <a href="#added" class=md-nav__link> Added </a> </li> <li class=md-nav__item> <a href="#fixed" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v0120" class=md-nav__link> v0.12.0 </a> <nav class=md-nav aria-label=v0.12.0> <ul class=md-nav__list> <li class=md-nav__item> <a href="#added_1" class=md-nav__link> Added </a> </li> <li class=md-nav__item> <a href="#changed_1" class=md-nav__link> Changed </a> </li> <li class=md-nav__item> <a href="#fixed_1" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v0112" class=md-nav__link> v0.11.2 </a> <nav class=md-nav aria-label=v0.11.2> <ul class=md-nav__list> <li class=md-nav__item> <a href="#fixed_2" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v0111-2024-04-02" class=md-nav__link> v0.11.1 (2024-04-02) </a> <nav class=md-nav aria-label="v0.11.1 (2024-04-02)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#added_2" class=md-nav__link> Added </a> </li> <li class=md-nav__item> <a href="#changed_2" class=md-nav__link> Changed </a> </li> <li class=md-nav__item> <a href="#fixed_3" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v0110-2024-03-29" class=md-nav__link> v0.11.0 (2024-03-29) </a> <nav class=md-nav aria-label="v0.11.0 (2024-03-29)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#added_3" class=md-nav__link> Added </a> </li> <li class=md-nav__item> <a href="#changed_3" class=md-nav__link> Changed </a> </li> <li class=md-nav__item> <a href="#fixed_4" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v0107-2024-03-12" class=md-nav__link> v0.10.7 (2024-03-12) </a> <nav class=md-nav aria-label="v0.10.7 (2024-03-12)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#added_4" class=md-nav__link> Added </a> </li> <li class=md-nav__item> <a href="#changed_4" class=md-nav__link> Changed </a> </li> <li class=md-nav__item> <a href="#fixed_5" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v0106-2024-02-24" class=md-nav__link> v0.10.6 (2024-02-24) </a> <nav class=md-nav aria-label="v0.10.6 (2024-02-24)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#added_5" class=md-nav__link> Added </a> </li> <li class=md-nav__item> <a href="#changed_5" class=md-nav__link> Changed </a> </li> <li class=md-nav__item> <a href="#fixed_6" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v0105-2024-01-29" class=md-nav__link> v0.10.5 (2024-01-29) </a> <nav class=md-nav aria-label="v0.10.5 (2024-01-29)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#fixed_7" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v0104-2024-01-19" class=md-nav__link> v0.10.4 (2024-01-19) </a> <nav class=md-nav aria-label="v0.10.4 (2024-01-19)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#changed_6" class=md-nav__link> Changed </a> </li> <li class=md-nav__item> <a href="#added_6" class=md-nav__link> Added </a> </li> <li class=md-nav__item> <a href="#fixed_8" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v0103-2024-01-11" class=md-nav__link> v0.10.3 (2024-01-11) </a> <nav class=md-nav aria-label="v0.10.3 (2024-01-11)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#added_7" class=md-nav__link> Added </a> </li> <li class=md-nav__item> <a href="#fixed_9" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v0102-2023-12-20" class=md-nav__link> v0.10.2 (2023-12-20) </a> <nav class=md-nav aria-label="v0.10.2 (2023-12-20)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#changed_7" class=md-nav__link> Changed </a> </li> <li class=md-nav__item> <a href="#fixed_10" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v0101-2023-12-15" class=md-nav__link> v0.10.1 (2023-12-15) </a> <nav class=md-nav aria-label="v0.10.1 (2023-12-15)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#changed_8" class=md-nav__link> Changed </a> </li> <li class=md-nav__item> <a href="#fixed_11" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v0100-2023-12-04" class=md-nav__link> v0.10.0 (2023-12-04) </a> <nav class=md-nav aria-label="v0.10.0 (2023-12-04)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#added_8" class=md-nav__link> Added </a> </li> <li class=md-nav__item> <a href="#changed_9" class=md-nav__link> Changed </a> </li> <li class=md-nav__item> <a href="#fixed_12" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v0100beta1-2023-12-04" class=md-nav__link> v0.10.0beta1 (2023-12-04) </a> <nav class=md-nav aria-label="v0.10.0beta1 (2023-12-04)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#added_9" class=md-nav__link> Added </a> </li> <li class=md-nav__item> <a href="#changed_10" class=md-nav__link> Changed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v092-2023-12-04" class=md-nav__link> v0.9.2 (2023-12-04) </a> <nav class=md-nav aria-label="v0.9.2 (2023-12-04)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#changed_11" class=md-nav__link> Changed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v091-2023-09-22" class=md-nav__link> v0.9.1 (2023-09-22) </a> <nav class=md-nav aria-label="v0.9.1 (2023-09-22)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#changed_12" class=md-nav__link> Changed </a> </li> <li class=md-nav__item> <a href="#fixed_13" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v090-2023-09-15" class=md-nav__link> v0.9.0 (2023-09-15) </a> <nav class=md-nav aria-label="v0.9.0 (2023-09-15)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#added_10" class=md-nav__link> Added </a> </li> <li class=md-nav__item> <a href="#changes" class=md-nav__link> Changes </a> </li> <li class=md-nav__item> <a href="#fixed_14" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v081-2023-05-31" class=md-nav__link> v0.8.1 (2023-05-31) </a> </li> <li class=md-nav__item> <a href="#v080-2023-05-24" class=md-nav__link> v0.8.0 (2023-05-24) </a> <nav class=md-nav aria-label="v0.8.0 (2023-05-24)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#added_11" class=md-nav__link> Added </a> </li> <li class=md-nav__item> <a href="#changed_13" class=md-nav__link> Changed </a> </li> <li class=md-nav__item> <a href="#fixed_15" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v074-2022-12-12" class=md-nav__link> v0.7.4 (2022-12-12) </a> <nav class=md-nav aria-label="v0.7.4 (2022-12-12)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#added_12" class=md-nav__link> Added </a> </li> <li class=md-nav__item> <a href="#changed_14" class=md-nav__link> Changed </a> </li> <li class=md-nav__item> <a href="#fixed_16" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v072-2022-10-26" class=md-nav__link> v0.7.2 (2022-10-26) </a> <nav class=md-nav aria-label="v0.7.2 (2022-10-26)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#added_13" class=md-nav__link> Added </a> </li> <li class=md-nav__item> <a href="#fixed_17" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v071-2022-10-13" class=md-nav__link> v0.7.1 (2022-10-13) </a> <nav class=md-nav aria-label="v0.7.1 (2022-10-13)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#added_14" class=md-nav__link> Added </a> </li> <li class=md-nav__item> <a href="#changed_15" class=md-nav__link> Changed </a> </li> <li class=md-nav__item> <a href="#fixed_18" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v070-2022-09-06" class=md-nav__link> v0.7.0 (2022-09-06) </a> <nav class=md-nav aria-label="v0.7.0 (2022-09-06)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#added_15" class=md-nav__link> Added </a> </li> <li class=md-nav__item> <a href="#changed_16" class=md-nav__link> Changed </a> </li> <li class=md-nav__item> <a href="#fixed_19" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v062-2022-08-02" class=md-nav__link> v0.6.2 (2022-08-02) </a> <nav class=md-nav aria-label="v0.6.2 (2022-08-02)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#added_16" class=md-nav__link> Added </a> </li> <li class=md-nav__item> <a href="#changed_17" class=md-nav__link> Changed </a> </li> <li class=md-nav__item> <a href="#fixed_20" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v061-2022-07-11" class=md-nav__link> v0.6.1 (2022-07-11) </a> <nav class=md-nav aria-label="v0.6.1 (2022-07-11)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#added_17" class=md-nav__link> Added </a> </li> <li class=md-nav__item> <a href="#changed_18" class=md-nav__link> Changed </a> </li> <li class=md-nav__item> <a href="#fixed_21" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v060-2022-06-17" class=md-nav__link> v0.6.0 (2022-06-17) </a> <nav class=md-nav aria-label="v0.6.0 (2022-06-17)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#added_18" class=md-nav__link> Added </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v053-2022-05-04" class=md-nav__link> v0.5.3 (2022-05-04) </a> <nav class=md-nav aria-label="v0.5.3 (2022-05-04)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#added_19" class=md-nav__link> Added </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v052-2022-05-04" class=md-nav__link> v0.5.2 (2022-05-04) </a> <nav class=md-nav aria-label="v0.5.2 (2022-05-04)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#added_20" class=md-nav__link> Added </a> </li> <li class=md-nav__item> <a href="#fixed_22" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v051-2022-04-11" class=md-nav__link> v0.5.1 (2022-04-11) </a> <nav class=md-nav aria-label="v0.5.1 (2022-04-11)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#fixed_23" class=md-nav__link> Fixed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v050-2022-04-08" class=md-nav__link> v0.5.0 (2022-04-08) </a> <nav class=md-nav aria-label="v0.5.0 (2022-04-08)"> <ul class=md-nav__list> <li class=md-nav__item> <a href="#added_21" class=md-nav__link> Added </a> </li> <li class=md-nav__item> <a href="#changed_19" class=md-nav__link> Changed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="#v044-2022-03-31" class=md-nav__link> v0.4.4 (2022-03-31) </a> </li> <li class=md-nav__item> <a href="#v043-2022-03-18" class=md-nav__link> v0.4.3 (2022-03-18) </a> </li> <li class=md-nav__item> <a href="#v042-2022-03-16" class=md-nav__link> v0.4.2 (2022-03-16) </a> </li> <li class=md-nav__item> <a href="#v041-2022-03-14" class=md-nav__link> v0.4.1 (2022-03-14) </a> </li> <li class=md-nav__item> <a href="#v040-2022-02-22" class=md-nav__link> v0.4.0 (2022-02-22) </a> </li> <li class=md-nav__item> <a href="#v032-2021-11-24" class=md-nav__link> v0.3.2 (2021-11-24) </a> </li> <li class=md-nav__item> <a href="#v031-2021-10-13" class=md-nav__link> v0.3.1 (2021-10-13) </a> </li> <li class=md-nav__item> <a href="#v030-2021-09-29" class=md-nav__link> v0.3.0 (2021-09-29) </a> </li> <li class=md-nav__item> <a href="#v020-2021-09-13" class=md-nav__link> v0.2.0 (2021-09-13) </a> </li> <li class=md-nav__item> <a href="#v010-2021-09-29" class=md-nav__link> v0.1.0 (2021-09-29) </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=changelog>Changelog</h1> <h2 id=v0123>v0.12.3</h2> <h3 id=changed>Changed</h3> <p>Packages:</p> <ul> <li>Pip-installable models are now built with <code>hatch</code> instead of poetry, which allows us to expose <code>artifacts</code> (weights) at the root of the sdist package (uploadable to HF) and move them inside the package upon installation to avoid conflicts.</li> <li>Dependencies are no longer inferred with dill-magic (this didn't work well before anyway)</li> <li>Option to perform substitutions in the model's README.md file (e.g., for the model's name, metrics, ...)</li> <li>Huggingface models are now installed with pip <em>editable</em> installations, which is faster since it doesn't copy around the weights</li> </ul> <h2 id=v0121>v0.12.1</h2> <h3 id=added>Added</h3> <ul> <li>Added binary distribution for linux aarch64 (Streamlit's environment)</li> <li>Added new separator option in eds.table and new input check</li> </ul> <h3 id=fixed>Fixed</h3> <ul> <li>Make catalogue &amp; entrypoints compatible with py37-py312</li> <li>Check that a data has a doc before trying to use the document's <code>note_datetime</code></li> </ul> <h2 id=v0120>v0.12.0</h2> <h3 id=added_1>Added</h3> <ul> <li>The <code><a href="../pipes/trainable/embeddings/transformer/#edsnlp.pipes.trainable.embeddings.transformer.factory.create_component">eds.transformer</a></code> component now accepts <code>prompts</code> (passed to its <code>preprocess</code> method, see breaking change below) to add before each window of text to embed.</li> <li><code>LazyCollection.map</code> / <code>map_batches</code> now support generator functions as arguments.</li> <li>Window stride can now be disabled (i.e., stride = window) during training in the <code><a href="../pipes/trainable/embeddings/transformer/#edsnlp.pipes.trainable.embeddings.transformer.factory.create_component">eds.transformer</a></code> component by <code>training_stride = False</code></li> <li>Added a new <code>eds.ner_overlap_scorer</code> to evaluate matches between two lists of entities, counting true when the dice overlap is above a given threshold</li> <li><code>edsnlp.load</code> now accepts EDS-NLP models from the huggingface hub 🤗 !</li> <li>New <code>python -m edsnlp.package</code> command to package a model for the huggingface hub or pypi-like registries</li> <li>Improve table detection in <code><a href="../pipes/misc/tables/#edsnlp.pipes.misc.tables.factory.create_component">eds.tables</a></code> and support new options in <code>table._.to_pd_table(...)</code>:</li> <li><code>header=True</code> to use first row as header</li> <li><code>index=True</code> to use first column as index</li> <li><code>as_spans=True</code> to fill cells as document spans instead of strings</li> </ul> <h3 id=changed_1>Changed</h3> <ul> <li><img alt=💥 class=twemoji src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/1f4a5.svg" title=:boom:> Major breaking change in trainable components, moving towards a more "task-centric" design:</li> <li>the <code><a href="../pipes/trainable/embeddings/transformer/#edsnlp.pipes.trainable.embeddings.transformer.factory.create_component">eds.transformer</a></code> component is no longer responsible for deciding which spans of text ("contexts") should be embedded. These contexts are now passed via the <code>preprocess</code> method, which now accepts more arguments than just the docs to process.</li> <li>similarly the <code><a href="../pipes/trainable/embeddings/span_pooler/#edsnlp.pipes.trainable.embeddings.span_pooler.factory.create_component">eds.span_pooler</a></code> is now longer responsible for deciding which spans to pool, and instead pools all spans passed to it in the <code>preprocess</code> method.</li> </ul> <p>Consequently, the <code><a href="../pipes/trainable/embeddings/transformer/#edsnlp.pipes.trainable.embeddings.transformer.factory.create_component">eds.transformer</a></code> and <code><a href="../pipes/trainable/embeddings/span_pooler/#edsnlp.pipes.trainable.embeddings.span_pooler.factory.create_component">eds.span_pooler</a></code> no longer accept their <code>span_getter</code> argument, and the <code><a href="../pipes/trainable/ner/#edsnlp.pipes.trainable.ner_crf.factory.create_component">eds.ner_crf</a></code>, <code><a href="../pipes/trainable/span-classifier/#edsnlp.pipes.trainable.span_classifier.factory.create_component">eds.span_classifier</a></code>, <code><a href="../pipes/trainable/span-linker/#edsnlp.pipes.trainable.span_linker.factory.create_component">eds.span_linker</a></code> and <code><a href="../pipes/trainable/span-classifier/#edsnlp.pipes.trainable.span_classifier.factory.create_component">eds.span_qualifier</a></code> components now accept a <code>context_getter</code> argument instead, as well as a <code>span_getter</code> argument for the latter two. This refactoring can be summarized as follows:</p> <div class=highlight><pre><span></span><code>```diff
- eds.transformer.span_getter
+ eds.ner_crf.context_getter
+ eds.span_classifier.context_getter
+ eds.span_linker.context_getter

- eds.span_pooler.span_getter
+ eds.span_qualifier.span_getter
+ eds.span_linker.span_getter
```

and as an example for the `<a href="../pipes/trainable/span-linker/#edsnlp.pipes.trainable.span_linker.factory.create_component">eds.span_linker</a>` component:

```diff
nlp.add_pipe(
    <a href="../pipes/trainable/span-linker/#edsnlp.pipes.trainable.span_linker.factory.create_component">eds.span_linker</a>(
        metric=&quot;cosine&quot;,
        probability_mode=&quot;sigmoid&quot;,
+       span_getter=&quot;ents&quot;,
+       # context_getter=&quot;ents&quot;,  -&gt; by default, same as span_getter
        embedding=<a href="../pipes/trainable/embeddings/span_pooler/#edsnlp.pipes.trainable.embeddings.span_pooler.factory.create_component">eds.span_pooler</a>(
            hidden_size=128,
-           span_getter=&quot;ents&quot;,
            embedding=<a href="../pipes/trainable/embeddings/transformer/#edsnlp.pipes.trainable.embeddings.transformer.factory.create_component">eds.transformer</a>(
-               span_getter=&quot;ents&quot;,
                model=&quot;prajjwal1/bert-tiny&quot;,
                window=128,
                stride=96,
            ),
        ),
    ),
    name=&quot;linker&quot;,
)
```
</code></pre></div> <ul> <li>Trainable embedding components now all use <code>foldedtensor</code> to return embeddings, instead of returning a tensor of floats and a mask tensor.</li> <li><img alt=💥 class=twemoji src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/1f4a5.svg" title=:boom:> TorchComponent <code>__call__</code> no longer applies the end to end method, and instead calls the <code>forward</code> method directly, like all torch modules.</li> <li>The trainable <code><a href="../pipes/trainable/span-classifier/#edsnlp.pipes.trainable.span_classifier.factory.create_component">eds.span_qualifier</a></code> component has been renamed to <code><a href="../pipes/trainable/span-classifier/#edsnlp.pipes.trainable.span_classifier.factory.create_component">eds.span_classifier</a></code> to reflect its general purpose (it doesn't only predict qualifiers, but any attribute of a span using its context or not).</li> <li><code>omop</code> converter now takes the <code>note_datetime</code> field into account by default when building a document</li> <li><code>span._.date.to_datetime()</code> and <code>span._.date.to_duration()</code> now automatically take the <code>note_datetime</code> into account</li> <li><code>nlp.vocab</code> is no longer serialized when saving a model, as it may contain sensitive information and can be recomputed during inference anyway</li> </ul> <h3 id=fixed_1>Fixed</h3> <ul> <li><code>edsnlp.data.read_json</code> now correctly read the files from the directory passed as an argument, and not from the parent directory.</li> <li>Overwrite spacy's Doc, Span and Token pickling utils to allow recursively storing Doc, Span and Token objects in the extension values (in particular, span._.date.doc)</li> <li>Removed pendulum dependency, solving various pickling, multiprocessing and missing attributes errors</li> </ul> <h2 id=v0112>v0.11.2</h2> <h3 id=fixed_2>Fixed</h3> <ul> <li>Fix <code>edsnlp.utils.file_system.normalize_fs_path</code> file system detection not working correctly</li> <li>Improved performance of <code>edsnlp.data</code> methods over a filesystem (<code>fs</code> parameter)</li> </ul> <h2 id=v0111-2024-04-02>v0.11.1 (2024-04-02)</h2> <h3 id=added_2>Added</h3> <ul> <li>Automatic estimation of cpu count when using multiprocessing</li> <li><code>optim.initialize()</code> method to create optim state before the first backward pass</li> </ul> <h3 id=changed_2>Changed</h3> <ul> <li><code>nlp.post_init</code> will not tee lazy collections anymore (use <code>edsnlp.utils.collections.multi_tee</code> yourself if needed)</li> </ul> <h3 id=fixed_3>Fixed</h3> <ul> <li>Corrected inconsistencies in <code><a href="../pipes/trainable/span-linker/#edsnlp.pipes.trainable.span_linker.factory.create_component">eds.span_linker</a></code></li> </ul> <h2 id=v0110-2024-03-29>v0.11.0 (2024-03-29)</h2> <h3 id=added_3>Added</h3> <ul> <li>Support for a <code>filesystem</code> parameter in every <code>edsnlp.data.read_*</code> and <code>edsnlp.data.write_*</code> functions</li> <li>Pipes of a pipeline are now easily accessible with <code>nlp.pipes.xxx</code> instead of <code>nlp.get_pipe("xxx")</code></li> <li>Support builtin Span attributes in converters <code>span_attributes</code> parameter, e.g. <div class=highlight><pre><span></span><code><span class=kn>import</span> <span class=nn>edsnlp</span>

<span class=n>nlp</span> <span class=o>=</span> <span class=o>...</span>
<span class=n>nlp</span><span class=o>.</span><span class=n>add_pipe</span><span class=p>(</span><span class=s2>&quot;<a href="../pipes/core/sentences/#edsnlp.pipes.core.sentences.factory.create_component">eds.sentences</a>&quot;</span><span class=p>)</span>

<span class=n>data</span> <span class=o>=</span> <span class=n>edsnlp</span><span class=o>.</span><span class=n>data</span><span class=o>.</span><span class=n>from_xxx</span><span class=p>(</span><span class=o>...</span><span class=p>)</span>
<span class=n>data</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>map_pipeline</span><span class=p>(</span><span class=n>nlp</span><span class=p>)</span>
<span class=n>data</span><span class=o>.</span><span class=n>to_pandas</span><span class=p>(</span><span class=n>converters</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;ents&quot;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&quot;span_attributes&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;sent.text&quot;</span><span class=p>,</span> <span class=s2>&quot;start&quot;</span><span class=p>,</span> <span class=s2>&quot;end&quot;</span><span class=p>]}})</span>
</code></pre></div></li> <li>Support assigning Brat AnnotatorNotes as span attributes: <code>edsnlp.data.read_standoff(..., notes_as_span_attribute="cui")</code></li> <li>Support for mapping full batches in <code>edsnlp.processing</code> pipelines with <code>map_batches</code> lazy collection method: <div class=highlight><pre><span></span><code><span class=kn>import</span> <span class=nn>edsnlp</span>

<span class=n>data</span> <span class=o>=</span> <span class=n>edsnlp</span><span class=o>.</span><span class=n>data</span><span class=o>.</span><span class=n>from_xxx</span><span class=p>(</span><span class=o>...</span><span class=p>)</span>
<span class=n>data</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>map_batches</span><span class=p>(</span><span class=k>lambda</span> <span class=n>batch</span><span class=p>:</span> <span class=n>do_something</span><span class=p>(</span><span class=n>batch</span><span class=p>))</span>
<span class=n>data</span><span class=o>.</span><span class=n>to_pandas</span><span class=p>()</span>
</code></pre></div></li> <li>New <code>data.map_gpu</code> method to map a deep learning operation on some data and take advantage of edsnlp multi-gpu inference capabilities</li> <li>Added average precision computation in edsnlp span_classification scorer</li> <li>You can now add pipes to your pipeline by instantiating them directly, which comes with many advantages, such as auto-completion, introspection and type checking !</li> </ul> <div class=highlight><pre><span></span><code><span class=kn>import</span> <span class=nn>edsnlp</span><span class=o>,</span> <span class=nn>edsnlp.pipes</span> <span class=k>as</span> <span class=nn>eds</span>

<span class=n>nlp</span> <span class=o>=</span> <span class=n>edsnlp</span><span class=o>.</span><span class=n>blank</span><span class=p>(</span><span class=s2>&quot;eds&quot;</span><span class=p>)</span>
<span class=n>nlp</span><span class=o>.</span><span class=n>add_pipe</span><span class=p>(</span><a href="../pipes/core/sentences/#edsnlp.pipes.core.sentences.factory.create_component">eds.sentences</a><span class=p>())</span>
<span class=c1># instead of nlp.add_pipe(&quot;<a href="../pipes/core/sentences/#edsnlp.pipes.core.sentences.factory.create_component">eds.sentences</a>&quot;)</span>
</code></pre></div> <p><em>The previous way of adding pipes is still supported.</em> - New <code><a href="../pipes/trainable/span-linker/#edsnlp.pipes.trainable.span_linker.factory.create_component">eds.span_linker</a></code> deep-learning component to match entities with their concepts in a knowledge base, in synonym-similarity or concept-similarity mode.</p> <h3 id=changed_3>Changed</h3> <ul> <li><code>nlp.preprocess_many</code> now uses lazy collections to enable parallel processing</li> <li><img alt=⚠ class=twemoji src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/26a0.svg" title=:warning:> Breaking change. Improved and simplified <code><a href="../pipes/trainable/span-classifier/#edsnlp.pipes.trainable.span_classifier.factory.create_component">eds.span_qualifier</a></code>: we didn't support combination groups before, so this feature was scrapped for now. We now also support splitting values of a single qualifier between different span labels.</li> <li>Optimized edsnlp.data batching, especially for large batch sizes (removed a quadratic loop)</li> <li><img alt=⚠ class=twemoji src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/26a0.svg" title=:warning:> Breaking change. By default, the name of components added to a pipeline is now the default name defined in their class <code>__init__</code> signature. For most components of EDS-NLP, this will change the name from "eds.xxx" to "xxx".</li> </ul> <h3 id=fixed_4>Fixed</h3> <ul> <li>Flatten list outputs (such as "ents" converter) when iterating: <code>nlp.map(data).to_iterable("ents")</code> is now a list of entities, and not a list of lists of entities</li> <li>Allow span pooler to choose between multiple base embedding spans (as likely produced by <code><a href="../pipes/trainable/embeddings/transformer/#edsnlp.pipes.trainable.embeddings.transformer.factory.create_component">eds.transformer</a></code>) by sorting them by Dice overlap score.</li> <li>EDS-NLP does not raise an error anymore when saving a model to an already existing, but empty directory</li> </ul> <h2 id=v0107-2024-03-12>v0.10.7 (2024-03-12)</h2> <h3 id=added_4>Added</h3> <ul> <li>Support empty writer converter by default in <code>edsnlp.data</code> readers / writers (do not convert by default)</li> <li>Add support for polars data import / export</li> <li>Allow kwargs in <code><a href="../pipes/trainable/embeddings/transformer/#edsnlp.pipes.trainable.embeddings.transformer.factory.create_component">eds.transformer</a></code> to pass to the transformer model</li> </ul> <h3 id=changed_4>Changed</h3> <ul> <li>Saving pipelines now longer saves the <code>disabled</code> status of the pipes (i.e., all pipes are considered "enabled" when saved). This feature was not used and causing issues when saving a model wrapped in a <code>nlp.select_pipes</code> context.</li> </ul> <h3 id=fixed_5>Fixed</h3> <ul> <li>Allow missing <code>meta.json</code>, <code>tokenizer</code> and <code>vocab</code> paths when loading saved models</li> <li>Save torch buffers when dumping machine learning models to disk (previous versions only saved the model parameters)</li> <li>Fix automatic <code>batch_size</code> estimation in <code><a href="../pipes/trainable/embeddings/transformer/#edsnlp.pipes.trainable.embeddings.transformer.factory.create_component">eds.transformer</a></code> when <code>max_tokens_per_device</code> is set to <code>auto</code> and multiple GPUs are used</li> <li>Fix JSONL file parsing</li> </ul> <h2 id=v0106-2024-02-24>v0.10.6 (2024-02-24)</h2> <h3 id=added_5>Added</h3> <ul> <li>Added <code>batch_by</code>, <code>split_into_batches_after</code>, <code>sort_chunks</code>, <code>chunk_size</code>, <code>disable_implicit_parallelism</code> parameters to processing (<code>simple</code> and <code>multiprocessing</code>) backends to improve performance and memory usage. Sorting chunks can improve yield up to <strong>twice the speed</strong> in some cases.</li> <li>The deep learning cache mechanism now supports multitask models with weight sharing in multiprocessing mode.</li> <li>Added <code>max_tokens_per_device="auto"</code> parameter to <code><a href="../pipes/trainable/embeddings/transformer/#edsnlp.pipes.trainable.embeddings.transformer.factory.create_component">eds.transformer</a></code> to estimate memory usage and automatically split the input into chunks that fit into the GPU.</li> </ul> <h3 id=changed_5>Changed</h3> <ul> <li>Improved speed and memory usage of the <code><a href="../pipes/trainable/embeddings/text_cnn/#edsnlp.pipes.trainable.embeddings.text_cnn.factory.create_component">eds.text_cnn</a></code> pipe by running the CNN on a non-padded version of its input: expect a speedup up to 1.3x in real-world use cases.</li> <li>Deprecate the converters' (especially for BRAT/Standoff data) <code>bool_attributes</code> parameter in favor of general <code>default_attributes</code>. This new mapping describes how to set attributes on spans for which no attribute value was found in the input format. This is especially useful for negation, or frequent attributes values (e.g. "negated" is often False, "temporal" is often "present"), that annotators may not want to annotate every time.</li> <li>Default <code><a href="../pipes/trainable/ner/#edsnlp.pipes.trainable.ner_crf.factory.create_component">eds.ner_crf</a></code> window is now set to 40 and stride set to 20, as it doesn't affect throughput (compared to before, window set to 20) and improves accuracy.</li> <li>New default <code>overlap_policy='merge'</code> option and parameter renaming in <code>eds.span_context_getter</code> (which replaces <code>eds.span_sentence_getter</code>)</li> </ul> <h3 id=fixed_6>Fixed</h3> <ul> <li>Improved error handling in <code>multiprocessing</code> backend (e.g., no more deadlock)</li> <li>Various improvements to the data processing related documentation pages</li> <li>Begin of sentence / end of sentence transitions of the <code><a href="../pipes/trainable/ner/#edsnlp.pipes.trainable.ner_crf.factory.create_component">eds.ner_crf</a></code> component are now disabled when windows are used (e.g., neither <code>window=1</code> equivalent to softmax and <code>window=0</code>equivalent to default full sequence Viterbi decoding)</li> <li><code>eds</code> tokenizer nows inherits from <code>spacy.Tokenizer</code> to avoid typing errors</li> <li>Only match 'ne' negation pattern when not part of another word to avoid false positives cases like <code>u[ne] cure de 10 jours</code></li> <li>Disabled pipes are now correctly ignored in the <code>Pipeline.preprocess</code> method</li> <li>Add "eventuel*" patterns to <code>eds.hyphothesis</code></li> </ul> <h2 id=v0105-2024-01-29>v0.10.5 (2024-01-29)</h2> <h3 id=fixed_7>Fixed</h3> <ul> <li>Allow non-url paths when parquet filesystem is given</li> </ul> <h2 id=v0104-2024-01-19>v0.10.4 (2024-01-19)</h2> <h3 id=changed_6>Changed</h3> <ul> <li>Assigning <code>doc._.note_datetime</code> will now automatically cast the value to a <code>pendulum.DateTime</code> object</li> </ul> <h3 id=added_6>Added</h3> <ul> <li>Support loading model from package name (e.g., <code>edsnlp.load("eds_pseudo_aphp")</code>)</li> <li>Support filesystem parameter in <code>edsnlp.data.read_parquet</code> and <code>edsnlp.data.write_parquet</code></li> </ul> <h3 id=fixed_8>Fixed</h3> <ul> <li>Support doc -&gt; list converters with parquet files writer</li> <li>Fixed some OOM errors when writing many outputs to parquet files</li> <li>Both edsnlp &amp; spacy factories are now listed when a factory lookup fails</li> <li>Fixed some GPU OOM errors with the <code><a href="../pipes/trainable/embeddings/transformer/#edsnlp.pipes.trainable.embeddings.transformer.factory.create_component">eds.transformer</a></code> pipe when processing really long documents</li> </ul> <h2 id=v0103-2024-01-11>v0.10.3 (2024-01-11)</h2> <h3 id=added_7>Added</h3> <ul> <li>By default, <code>edsnlp.data.write_json</code> will infer if the data should be written as a single JSONL file or as a directory of JSON files, based on the <code>path</code> argument being a file or not.</li> </ul> <h3 id=fixed_9>Fixed</h3> <ul> <li>Measurements now correctly match "0.X", "0.XX", ... numbers</li> <li>Typo in "celsius" measurement unit</li> <li>Spaces and digits are now supported in BRAT entity labels</li> <li>Fixed missing 'permet pas + verb' false positive negation patterns</li> </ul> <h2 id=v0102-2023-12-20>v0.10.2 (2023-12-20)</h2> <h3 id=changed_7>Changed</h3> <ul> <li><code><a href="../pipes/trainable/span-classifier/#edsnlp.pipes.trainable.span_classifier.factory.create_component">eds.span_qualifier</a></code> qualifiers argument now automatically adds the underscore prefix if not present</li> </ul> <h3 id=fixed_10>Fixed</h3> <ul> <li>Fix imports of components declared in <code>spacy_factories</code> entry points</li> <li>Support <code>pendulum</code> v3</li> <li><code>AsList</code> errors are now correctly reported</li> <li><code><a href="../pipes/trainable/span-classifier/#edsnlp.pipes.trainable.span_classifier.factory.create_component">eds.span_qualifier</a></code> saved configuration during <code>to_disk</code> is now longer null</li> </ul> <h2 id=v0101-2023-12-15>v0.10.1 (2023-12-15)</h2> <h3 id=changed_8>Changed</h3> <ul> <li>Small regex matching performance improvement, up to 1.25x faster (e.g. <code><a href="../pipes/misc/measurements/#edsnlp.pipes.misc.measurements.factory.create_component">eds.measurements</a></code>)</li> </ul> <h3 id=fixed_11>Fixed</h3> <ul> <li>Microgram scale is now correctly 1/1000g and inverse meter now 1/100 inverse cm.</li> <li>We now isolate some of edsnlp components (trainable pipes that require ml dependencies) in a new <code>edsnlp_factories</code> entry points to prevent spacy from auto-importing them.</li> <li>TNM scores followed by a space are now correctly detected</li> <li>Removed various short TNM false positives (e.g., "PT" or "a T") and false negatives</li> <li>The Span value extension is not more forcibly overwritten, and user assigned values are returned by <code>Span._.value</code> in priority, before the aggregated <code>span._.get(span.label_)</code> getter result (#220)</li> <li>Enable mmap during multiprocessing model transfers</li> <li><code>RegexMatcher</code> now supports all alignment modes (<code>strict</code>, <code>expand</code>, <code>contract</code>) and better handles partial doc matching (#201).</li> <li><code>on_ent_only=False/True</code> is now supported again in qualifier pipes (e.g., "<a href="../pipes/qualifiers/negation/#edsnlp.pipes.qualifiers.negation.factory.create_component">eds.negation</a>", "<a href="../pipes/qualifiers/hypothesis/#edsnlp.pipes.qualifiers.hypothesis.factory.create_component">eds.hypothesis</a>", ...)</li> </ul> <h2 id=v0100-2023-12-04>v0.10.0 (2023-12-04)</h2> <h3 id=added_8>Added</h3> <ul> <li>New add unified <code>edsnlp.data</code> api (json, brat, spark, pandas) and LazyCollection object to efficiently read / write data from / to different formats &amp; sources.</li> <li>New unified processing API to select the execution execution backends via <code>data.set_processing(...)</code></li> <li>The training scripts can now use data from multiple concatenated adapters</li> <li>Support quantized transformers (compatible with multiprocessing as well !)</li> </ul> <h3 id=changed_9>Changed</h3> <ul> <li><code>edsnlp.pipelines</code> has been renamed to <code>edsnlp.pipes</code>, but the old name is still available for backward compatibility</li> <li>Pipes (in <code>edsnlp/pipes</code>) are now lazily loaded, which should improve the loading time of the library.</li> <li><code>to_disk</code> methods can now return a config to override the initial config of the pipeline (e.g., to load a transformer directly from the path storing its fine-tuned weights)</li> <li>The <code>eds.tokenizer</code> tokenizer has been added to entry points, making it accessible from the outside</li> <li>Deprecate old connectors (e.g. BratDataConnector) in favor of the new <code>edsnlp.data</code> API</li> <li>Deprecate old <code>pipe</code> wrapper in favor of the new processing API</li> </ul> <h3 id=fixed_12>Fixed</h3> <ul> <li>Support for pydantic v2</li> <li>Support for python 3.11 (not ci-tested yet)</li> </ul> <h2 id=v0100beta1-2023-12-04>v0.10.0beta1 (2023-12-04)</h2> <p>Large refacto of EDS-NLP to allow training models and performing inference using PyTorch as the deep-learning backend. Rather than a mere wrapper of Pytorch using spaCy, this is a new framework to build hybrid multi-task models.</p> <p>To achieve this, instead of patching spaCy's pipeline, a new pipeline was implemented in a similar fashion to aphp/edspdf#12. The new pipeline tries to preserve the existing API, especially for non-machine learning uses such as rule-based components. This means that users can continue to use the library in the same way as before, while also having the option to train models using PyTorch. We still use spaCy data structures such as Doc and Span to represent the texts and their annotations.</p> <p>Otherwise, changes should be transparent for users that still want to use spacy pipelines with <code>nlp = spacy.blank('eds')</code>. To benefit from the new features, users should use <code>nlp = edsnlp.blank('eds')</code> instead.</p> <h3 id=added_9>Added</h3> <ul> <li>New pipeline system available via <code>edsnlp.blank('eds')</code> (instead of <code>spacy.blank('eds')</code>)</li> <li>Use the confit package to instantiate components</li> <li>Training script with Pytorch only (<code>tests/training/</code>) and tutorial</li> <li>New trainable embeddings: <code><a href="../pipes/trainable/embeddings/transformer/#edsnlp.pipes.trainable.embeddings.transformer.factory.create_component">eds.transformer</a></code>, <code><a href="../pipes/trainable/embeddings/text_cnn/#edsnlp.pipes.trainable.embeddings.text_cnn.factory.create_component">eds.text_cnn</a></code>, <code><a href="../pipes/trainable/embeddings/span_pooler/#edsnlp.pipes.trainable.embeddings.span_pooler.factory.create_component">eds.span_pooler</a></code> embedding contextualizer pipes</li> <li>Re-implemented the trainable NER component and trainable Span qualifier with the new system under <code><a href="../pipes/trainable/ner/#edsnlp.pipes.trainable.ner_crf.factory.create_component">eds.ner_crf</a></code> and <code><a href="../pipes/trainable/span-classifier/#edsnlp.pipes.trainable.span_classifier.factory.create_component">eds.span_classifier</a></code></li> <li>New efficient implementation for <a href="../pipes/trainable/embeddings/transformer/#edsnlp.pipes.trainable.embeddings.transformer.factory.create_component">eds.transformer</a> (to be used in place of spacy-transformer)</li> </ul> <h3 id=changed_10>Changed</h3> <ul> <li>Pipe registering: <code>Language.factory</code> -&gt; <code>edsnlp.registry.factory.register</code> via confit</li> <li>Lazy loading components from their entry point (had to patch spacy.Language.<strong>init</strong>) to avoid having to wrap every import torch statement for pure rule-based use cases. Hence, torch is not a required dependency</li> </ul> <h2 id=v092-2023-12-04>v0.9.2 (2023-12-04)</h2> <h3 id=changed_11>Changed</h3> <ul> <li>Fix matchers to skip pipes with assigned extensions that are not required by the matcher during the initialization</li> </ul> <h2 id=v091-2023-09-22>v0.9.1 (2023-09-22)</h2> <h3 id=changed_12>Changed</h3> <ul> <li>Improve negation patterns</li> <li>Abstent disorders now set the negation to True when matched as <code>ABSENT</code></li> <li>Default qualifier is now <code>None</code> instead of <code>False</code> (empty string)</li> </ul> <h3 id=fixed_13>Fixed</h3> <ul> <li><code>span_getter</code> is not incompatible with on_ents_only anymore</li> <li><code>ContextualMatcher</code> now supports empty matches (e.g. lookahead/lookbehind) in <code>assign</code> patterns</li> </ul> <h2 id=v090-2023-09-15>v0.9.0 (2023-09-15)</h2> <h3 id=added_10>Added</h3> <ul> <li>New <code>to_duration</code> method to convert an absolute date into a date relative to the note_datetime (or None)</li> </ul> <h3 id=changes>Changes</h3> <ul> <li>Input and output of components are now specified by <code>span_getter</code> and <code>span_setter</code> arguments.</li> <li><img alt=💥 class=twemoji src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/1f4a5.svg" title=:boom:> Score / disorders / behaviors entities now have a fixed label (passed as an argument), instead of being dynamically set from the component name. The following scores may have a different name than the current one in your pipelines:<ul> <li><code><a href="../pipes/ner/scores/emergency-gemsa/#edsnlp.pipes.ner.scores.emergency.gemsa.factory.create_component">eds.emergency.gemsa</a></code> → <code>emergency_gemsa</code></li> <li><code><a href="../pipes/ner/scores/emergency-ccmu/#edsnlp.pipes.ner.scores.emergency.ccmu.factory.create_component">eds.emergency.ccmu</a></code> → <code>emergency_ccmu</code></li> <li><code><a href="../pipes/ner/scores/emergency-priority/#edsnlp.pipes.ner.scores.emergency.priority.factory.create_component">eds.emergency.priority</a></code> → <code>emergency_priority</code></li> <li><code><a href="../pipes/ner/scores/charlson/#edsnlp.pipes.ner.scores.charlson.factory.create_component">eds.charlson</a></code> → <code>charlson</code></li> <li><code><a href="../pipes/ner/scores/elston-ellis/#edsnlp.pipes.ner.scores.elston_ellis.factory.create_component">eds.elston_ellis</a></code> → <code>elston_ellis</code></li> <li><code><a href="../pipes/ner/scores/sofa/#edsnlp.pipes.ner.scores.sofa.factory.create_component">eds.SOFA</a></code> → <code>sofa</code></li> <li><code><a href="../pipes/ner/adicap/#edsnlp.pipes.ner.adicap.factory.create_component">eds.adicap</a></code> → <code>adicap</code></li> <li><code>eds.measuremets</code> → <code>size</code>, <code>weight</code>, ... instead of <code>eds.size</code>, <code>eds.weight</code>, ...</li> </ul> </li> <li><code><a href="../pipes/misc/dates/#edsnlp.pipes.misc.dates.factory.create_component">eds.dates</a></code> now separate dates from durations. Each entity has its own label:<ul> <li><code>spans["dates"]</code> → entities labelled as <code>date</code> with a <code>span._.date</code> parsed object</li> <li><code>spans["durations"]</code> → entities labelled as <code>duration</code> with a <code>span._.duration</code> parsed object</li> </ul> </li> <li>the "relative" / "absolute" / "duration" mode of the time entity is now stored in the <code>mode</code> attribute of the <code>span._.date/duration</code></li> <li>the "from" / "until" period bound, if any, is now stored in the <code>span._.date.bound</code> attribute</li> <li><code>to_datetime</code> now only return absolute dates, converts relative dates into absolute if <code>doc._.note_datetime</code> is given, and None otherwise</li> </ul> <h3 id=fixed_14>Fixed</h3> <ul> <li><code>export_to_brat</code> issue with spans of entities on multiple lines.</li> </ul> <h2 id=v081-2023-05-31>v0.8.1 (2023-05-31)</h2> <p>Fix release to allow installation from source</p> <h2 id=v080-2023-05-24>v0.8.0 (2023-05-24)</h2> <h3 id=added_11>Added</h3> <ul> <li>New trainable component for multi-label, multi-class span qualification (any attribute/extension)</li> <li>Add range measurements (like <code>la tumeur fait entre 1 et 2 cm</code>) to <code><a href="../pipes/misc/measurements/#edsnlp.pipes.misc.measurements.factory.create_component">eds.measurements</a></code> matcher</li> <li>Add <code><a href="../pipes/ner/disorders/ckd/#edsnlp.pipes.ner.disorders.ckd.factory.create_component">eds.CKD</a></code> component</li> <li>Add <code><a href="../pipes/ner/disorders/copd/#edsnlp.pipes.ner.disorders.copd.factory.create_component">eds.COPD</a></code> component</li> <li>Add <code><a href="../pipes/ner/behaviors/alcohol/#edsnlp.pipes.ner.behaviors.alcohol.factory.create_component">eds.alcohol</a></code> component</li> <li>Add <code><a href="../pipes/ner/disorders/cerebrovascular-accident/#edsnlp.pipes.ner.disorders.cerebrovascular_accident.factory.create_component">eds.cerebrovascular_accident</a></code> component</li> <li>Add <code><a href="../pipes/ner/disorders/congestive-heart-failure/#edsnlp.pipes.ner.disorders.congestive_heart_failure.factory.create_component">eds.congestive_heart_failure</a></code> component</li> <li>Add <code><a href="../pipes/ner/disorders/connective-tissue-disease/#edsnlp.pipes.ner.disorders.connective_tissue_disease.factory.create_component">eds.connective_tissue_disease</a></code> component</li> <li>Add <code><a href="../pipes/ner/disorders/dementia/#edsnlp.pipes.ner.disorders.dementia.factory.create_component">eds.dementia</a></code> component</li> <li>Add <code><a href="../pipes/ner/disorders/diabetes/#edsnlp.pipes.ner.disorders.diabetes.factory.create_component">eds.diabetes</a></code> component</li> <li>Add <code><a href="../pipes/ner/disorders/hemiplegia/#edsnlp.pipes.ner.disorders.hemiplegia.factory.create_component">eds.hemiplegia</a></code> component</li> <li>Add <code><a href="../pipes/ner/disorders/leukemia/#edsnlp.pipes.ner.disorders.leukemia.factory.create_component">eds.leukemia</a></code> component</li> <li>Add <code><a href="../pipes/ner/disorders/liver-disease/#edsnlp.pipes.ner.disorders.liver_disease.factory.create_component">eds.liver_disease</a></code> component</li> <li>Add <code><a href="../pipes/ner/disorders/lymphoma/#edsnlp.pipes.ner.disorders.lymphoma.factory.create_component">eds.lymphoma</a></code> component</li> <li>Add <code><a href="../pipes/ner/disorders/myocardial-infarction/#edsnlp.pipes.ner.disorders.myocardial_infarction.factory.create_component">eds.myocardial_infarction</a></code> component</li> <li>Add <code><a href="../pipes/ner/disorders/peptic-ulcer-disease/#edsnlp.pipes.ner.disorders.peptic_ulcer_disease.factory.create_component">eds.peptic_ulcer_disease</a></code> component</li> <li>Add <code><a href="../pipes/ner/disorders/peripheral-vascular-disease/#edsnlp.pipes.ner.disorders.peripheral_vascular_disease.factory.create_component">eds.peripheral_vascular_disease</a></code> component</li> <li>Add <code><a href="../pipes/ner/disorders/solid-tumor/#edsnlp.pipes.ner.disorders.solid_tumor.factory.create_component">eds.solid_tumor</a></code> component</li> <li>Add <code><a href="../pipes/ner/behaviors/tobacco/#edsnlp.pipes.ner.behaviors.tobacco.factory.create_component">eds.tobacco</a></code> component</li> <li>Add <code><a href="../reference/edsnlp/pipes/core/normalizer/spaces/factory/#edsnlp.pipes.core.normalizer.spaces.factory.create_component">eds.spaces</a></code> (or <code><a href="../pipes/core/normalizer/#edsnlp.pipes.core.normalizer.factory.create_component">eds.normalizer</a></code> with <code>spaces=True</code>) to detect space tokens, and add <code>ignore_space_tokens</code> to <code>EDSPhraseMatcher</code> and <code>SimstringMatcher</code> to skip them</li> <li>Add <code>ignore_space_tokens</code> option in most components</li> <li><code><a href="../pipes/misc/tables/#edsnlp.pipes.misc.tables.factory.create_component">eds.tables</a></code>: new pipeline to identify formatted tables</li> <li>New <code>merge_mode</code> parameter in <code><a href="../pipes/misc/measurements/#edsnlp.pipes.misc.measurements.factory.create_component">eds.measurements</a></code> to normalize existing entities or detect measures only inside existing entities</li> <li>Tokenization exceptions (<code>Mr.</code>, <code>Dr.</code>, <code>Mrs.</code>) and non end-of-sentence periods are now tokenized with the next letter in the <code>eds</code> tokenizer</li> </ul> <h3 id=changed_13>Changed</h3> <ul> <li>Disable <code>EDSMatcher</code> preprocessing auto progress tracking by default</li> <li>Moved dependencies to a single pyproject.toml: support for <code>pip install -e '.[dev,docs,setup]'</code></li> <li>ADICAP matcher now allow dot separators (e.g. <code>B.H.HP.A7A0</code>)</li> </ul> <h3 id=fixed_15>Fixed</h3> <ul> <li>Abbreviation and number tokenization issues in the <code>eds</code> tokenizer</li> <li><code><a href="../pipes/ner/adicap/#edsnlp.pipes.ner.adicap.factory.create_component">eds.adicap</a></code> : reparsed the dictionnary used to decode the ADICAP codes (some of them were wrongly decoded)</li> <li>Fix build for python 3.9 on Mac M1/M2 machines.</li> </ul> <h2 id=v074-2022-12-12>v0.7.4 (2022-12-12)</h2> <h3 id=added_12>Added</h3> <ul> <li><code><a href="../pipes/qualifiers/history/#edsnlp.pipes.qualifiers.history.factory.create_component">eds.history</a></code> : Add the option to consider only the closest dates in the sentence (dates inside the boundaries and if there is not, it takes the closest date in the entire sentence).</li> <li><code><a href="../pipes/qualifiers/negation/#edsnlp.pipes.qualifiers.negation.factory.create_component">eds.negation</a></code> : It takes into account following past participates and preceding infinitives.</li> <li><code><a href="../pipes/qualifiers/hypothesis/#edsnlp.pipes.qualifiers.hypothesis.factory.create_component">eds.hypothesis</a></code>: It takes into account following past participates hypothesis verbs.</li> <li><code><a href="../pipes/qualifiers/negation/#edsnlp.pipes.qualifiers.negation.factory.create_component">eds.negation</a></code> &amp; <code><a href="../pipes/qualifiers/hypothesis/#edsnlp.pipes.qualifiers.hypothesis.factory.create_component">eds.hypothesis</a></code> : Introduce new patterns and remove unnecessary patterns.</li> <li><code><a href="../pipes/misc/dates/#edsnlp.pipes.misc.dates.factory.create_component">eds.dates</a></code> : Add a pattern for preceding relative dates (ex: l'embolie qui est survenue <strong>à 10 jours</strong>).</li> <li>Improve patterns in the <code><a href="../reference/edsnlp/pipes/core/normalizer/pollution/factory/#edsnlp.pipes.core.normalizer.pollution.factory.create_component">eds.pollution</a></code> component to account for multiline footers</li> <li>Add <code>QuickExample</code> object to quickly try a pipeline.</li> <li>Add UMLS terminology matcher <code><a href="../pipes/ner/umls/#edsnlp.pipes.ner.umls.factory.create_component">eds.umls</a></code></li> <li>New <code>RegexMatcher</code> method to create spans from groupdicts</li> <li>New <code><a href="../pipes/misc/dates/#edsnlp.pipes.misc.dates.factory.create_component">eds.dates</a></code> option to disable time detection</li> </ul> <h3 id=changed_14>Changed</h3> <ul> <li>Improve date detection by removing false positives</li> </ul> <h3 id=fixed_16>Fixed</h3> <ul> <li><code><a href="../pipes/qualifiers/hypothesis/#edsnlp.pipes.qualifiers.hypothesis.factory.create_component">eds.hypothesis</a></code> : Remove too generic patterns.</li> <li><code>EDSTokenizer</code> : It now tokenizes <code>"rechereche d'"</code> as <code>["recherche", "d'"]</code>, instead of <code>["recherche", "d", "'"]</code>.</li> <li>Fix small typos in the documentation and in the docstring.</li> <li>Harmonize processing utils (distributed custom_pipe) to have the same API for Pandas and Pyspark</li> <li>Fix BratConnector file loading issues with complex file hierarchies</li> </ul> <h2 id=v072-2022-10-26>v0.7.2 (2022-10-26)</h2> <h3 id=added_13>Added</h3> <ul> <li>Improve the <code><a href="../pipes/qualifiers/history/#edsnlp.pipes.qualifiers.history.factory.create_component">eds.history</a></code> component by taking into account the date extracted from <code><a href="../pipes/misc/dates/#edsnlp.pipes.misc.dates.factory.create_component">eds.dates</a></code> component.</li> <li>New pop up when you click on the copy icon in the termynal widget (docs).</li> <li>Add NER <code><a href="../pipes/ner/scores/elston-ellis/#edsnlp.pipes.ner.scores.elston_ellis.factory.create_component">eds.elston-ellis</a></code> pipeline to identify Elston Ellis scores</li> <li>Add flags=re.MULTILINE to <code><a href="../reference/edsnlp/pipes/core/normalizer/pollution/factory/#edsnlp.pipes.core.normalizer.pollution.factory.create_component">eds.pollution</a></code> and change pattern of footer</li> </ul> <h3 id=fixed_17>Fixed</h3> <ul> <li>Remove the warning in the <code><a href="../pipes/misc/sections/#edsnlp.pipes.misc.sections.factory.create_component">eds.sections</a></code> when <code><a href="../pipes/core/normalizer/#edsnlp.pipes.core.normalizer.factory.create_component">eds.normalizer</a></code> is in the pipe.</li> <li>Fix filter_spans for strictly nested entities</li> <li>Fill <a href="../reference/edsnlp/pipes/core/normalizer/remove_lowercase/factory/#edsnlp.pipes.core.normalizer.remove_lowercase.factory.create_component">eds.remove-lowercase</a> "assign" metadata to run the pipeline during EDSPhraseMatcher preprocessing</li> <li>Allow back spaCy components whose name contains a dot (forbidden since spaCy v3.4.2) for backward compatibility.</li> </ul> <h2 id=v071-2022-10-13>v0.7.1 (2022-10-13)</h2> <h3 id=added_14>Added</h3> <ul> <li>Add new patterns (footer, web entities, biology tables, coding sections) to pipeline normalisation (pollution)</li> </ul> <h3 id=changed_15>Changed</h3> <ul> <li>Improved TNM detection algorithm</li> <li>Account for more modifiers in ADICAP codes detection</li> </ul> <h3 id=fixed_18>Fixed</h3> <ul> <li>Add nephew, niece and daughter to family qualifier patterns</li> <li>EDSTokenizer (<code>spacy.blank('eds')</code>) now recognizes non-breaking whitespaces as spaces and does not split float numbers</li> <li><code><a href="../pipes/misc/dates/#edsnlp.pipes.misc.dates.factory.create_component">eds.dates</a></code> pipeline now allows new lines as space separators in dates</li> </ul> <h2 id=v070-2022-09-06>v0.7.0 (2022-09-06)</h2> <h3 id=added_15>Added</h3> <ul> <li>New nested NER trainable <code>nested_ner</code> pipeline component</li> <li>Support for nested entities and attributes in BratDataConnector</li> <li>Pytorch wrappers and experimental training utils</li> <li>Add attribute <code>section</code> to entities</li> <li>Add new cases for separator pattern when components of the TNM score are separated by a forward slash</li> <li>Add NER <code><a href="../pipes/ner/adicap/#edsnlp.pipes.ner.adicap.factory.create_component">eds.adicap</a></code> pipeline to identify ADICAP codes</li> <li>Add patterns to <code>pollution</code> pipeline and simplifies activating or deactivating specific patterns</li> </ul> <h3 id=changed_16>Changed</h3> <ul> <li>Simplified the configuration scheme of the <code>pollution</code> pipeline</li> <li>Update of the <code>ContextualMatcher</code> (and all pipelines depending on it), rendering it more flexible to use</li> <li>Rename R component of score TNM as "resection_completeness"</li> </ul> <h3 id=fixed_19>Fixed</h3> <ul> <li>Prevent section titles from capturing surrounding tokens, causing overlaps (#113)</li> <li>Enhance existing patterns for section detection and add patterns for previously ignored sections (introduction, evolution, modalites de sortie, vaccination) .</li> <li>Fix explain mode, which was always triggered, in <code><a href="../pipes/qualifiers/history/#edsnlp.pipes.qualifiers.history.factory.create_component">eds.history</a></code> factory.</li> <li>Fix test in <code><a href="../pipes/misc/sections/#edsnlp.pipes.misc.sections.factory.create_component">eds.sections</a></code>. Previously, no check was done</li> <li>Remove SOFA scores spurious span suffixes</li> </ul> <h2 id=v062-2022-08-02>v0.6.2 (2022-08-02)</h2> <h3 id=added_16>Added</h3> <ul> <li>New <code>SimstringMatcher</code> matcher to perform fuzzy term matching, and <code>algorithm</code> parameter in terminology components and <code><a href="../pipes/core/matcher/#edsnlp.pipes.core.matcher.factory.create_component">eds.matcher</a></code> component</li> <li>Makefile to install,test the application and see the documentation</li> </ul> <h3 id=changed_17>Changed</h3> <ul> <li>Add consultation date pattern "CS", and False Positive patterns for dates (namely phone numbers and pagination).</li> <li>Update the pipeline score <code><a href="../pipes/ner/tnm/#edsnlp.pipes.ner.tnm.factory.create_component">eds.TNM</a></code>. Now it is possible to return a dictionary where the results are either <code>str</code> or <code>int</code> values</li> </ul> <h3 id=fixed_20>Fixed</h3> <ul> <li>Add new patterns to the negation qualifier</li> <li>Numpy header issues with binary distributed packages</li> <li>Simstring dependency on Windows</li> </ul> <h2 id=v061-2022-07-11>v0.6.1 (2022-07-11)</h2> <h3 id=added_17>Added</h3> <ul> <li>Now possible to provide regex flags when using the RegexMatcher</li> <li>New <code>ContextualMatcher</code> pipe, aiming at replacing the <code>AdvancedRegex</code> pipe.</li> <li>New <code>as_ents</code> parameter for <code><a href="../pipes/misc/dates/#edsnlp.pipes.misc.dates.factory.create_component">eds.dates</a></code>, to save detected dates as entities</li> </ul> <h3 id=changed_18>Changed</h3> <ul> <li>Faster <code><a href="../pipes/core/sentences/#edsnlp.pipes.core.sentences.factory.create_component">eds.sentences</a></code> pipeline component with Cython</li> <li>Bump version of Pydantic in <code>requirements.txt</code> to 1.8.2 to handle an incompatibility with the ContextualMatcher</li> <li>Optimise space requirements by using <code>.csv.gz</code> compression for verbs</li> </ul> <h3 id=fixed_21>Fixed</h3> <ul> <li><code><a href="../pipes/core/sentences/#edsnlp.pipes.core.sentences.factory.create_component">eds.sentences</a></code> behaviour with dot-delimited dates (eg <code>02.07.2022</code>, which counted as three sentences)</li> </ul> <h2 id=v060-2022-06-17>v0.6.0 (2022-06-17)</h2> <h3 id=added_18>Added</h3> <ul> <li>Complete revamp of the measurements detection pipeline, with better parsing and more exhaustive matching</li> <li>Add new functionality to the method <code>Span._.date.to_datetime()</code> to return a result infered from context for those cases with missing information.</li> <li>Force a batch size of 2000 when distributing a pipeline with Spark</li> <li>New patterns to pipeline <code><a href="../pipes/misc/dates/#edsnlp.pipes.misc.dates.factory.create_component">eds.dates</a></code> to identify cases where only the month is mentioned</li> <li>New <code><a href="../pipes/core/terminology/#edsnlp.pipes.core.terminology.factory.create_component">eds.terminology</a></code> component for generic terminology matching, using the <code>kb_id_</code> attribute to store fine-grained entity label</li> <li>New <code><a href="../pipes/ner/cim10/#edsnlp.pipes.ner.cim10.factory.create_component">eds.cim10</a></code> terminology matching pipeline</li> <li>New <code><a href="../pipes/ner/drugs/#edsnlp.pipes.ner.drugs.factory.create_component">eds.drugs</a></code> terminology pipeline that maps brand names and active ingredients to a unique <a href="https://en.wikipedia.org/wiki/Anatomical_Therapeutic_Chemical_Classification_System">ATC</a> code</li> </ul> <h2 id=v053-2022-05-04>v0.5.3 (2022-05-04)</h2> <h3 id=added_19>Added</h3> <ul> <li>Support for strings in the example utility</li> <li><a href="https://en.wikipedia.org/wiki/TNM_staging_system">TNM</a> detection and normalisation with the <code><a href="../pipes/ner/tnm/#edsnlp.pipes.ner.tnm.factory.create_component">eds.TNM</a></code> pipeline</li> <li>Support for arbitrary callback for Pandas multiprocessing, with the <code>callback</code> argument</li> </ul> <h2 id=v052-2022-05-04>v0.5.2 (2022-05-04)</h2> <h3 id=added_20>Added</h3> <ul> <li>Support for chained attributes in the <code>processing</code> pipelines</li> <li>Colour utility with the category20 colour palette</li> </ul> <h3 id=fixed_22>Fixed</h3> <ul> <li>Correct a REGEX on the date detector (both <code>nov</code> and <code>nov.</code> are now detected, as all other months)</li> </ul> <h2 id=v051-2022-04-11>v0.5.1 (2022-04-11)</h2> <h3 id=fixed_23>Fixed</h3> <ul> <li>Updated Numpy requirements to be compatible with the <code>EDSPhraseMatcher</code></li> </ul> <h2 id=v050-2022-04-08>v0.5.0 (2022-04-08)</h2> <h3 id=added_21>Added</h3> <ul> <li>New <code>eds</code> language to better fit French clinical documents and improve speed</li> <li>Testing for markdown codeblocks to make sure the documentation is actually executable</li> </ul> <h3 id=changed_19>Changed</h3> <ul> <li>Complete revamp of the date detection pipeline, with better parsing and more exhaustive matching</li> <li>Reimplementation of the EDSPhraseMatcher in Cython, leading to a x15 speed increase</li> </ul> <h2 id=v044-2022-03-31>v0.4.4 (2022-03-31)</h2> <ul> <li>Add <code>measures</code> pipeline</li> <li>Cap Jinja2 version to fix mkdocs</li> <li>Adding the possibility to add context in the processing module</li> <li>Improve the speed of char replacement pipelines (accents and quotes)</li> <li>Improve the speed of the regex matcher</li> </ul> <h2 id=v043-2022-03-18>v0.4.3 (2022-03-18)</h2> <ul> <li>Fix regex matching on spans.</li> <li>Add fast_parse in date pipeline.</li> <li>Add relative_date information parsing</li> </ul> <h2 id=v042-2022-03-16>v0.4.2 (2022-03-16)</h2> <ul> <li>Fix issue with <code>dateparser</code> library (see scrapinghub/dateparser#1045)</li> <li>Fix <code>attr</code> issue in the <code>advanced-regex</code> pipelin</li> <li>Add documentation for <code><a href="../pipes/ner/covid/#edsnlp.pipes.ner.covid.factory.create_component">eds.covid</a></code></li> <li>Update the demo with an explanation for the regex</li> </ul> <h2 id=v041-2022-03-14>v0.4.1 (2022-03-14)</h2> <ul> <li>Added support to Koalas DataFrames in the <code>edsnlp.processing</code> pipe.</li> <li>Added <code><a href="../pipes/ner/covid/#edsnlp.pipes.ner.covid.factory.create_component">eds.covid</a></code> NER pipeline for detecting COVID19 mentions.</li> </ul> <h2 id=v040-2022-02-22>v0.4.0 (2022-02-22)</h2> <ul> <li>Profound re-write of the normalisation :<ul> <li>The custom attribute <code>CUSTOM_NORM</code> is completely abandoned in favour of a more <em>spacyfic</em> alternative</li> <li>The <code>normalizer</code> pipeline modifies the <code>NORM</code> attribute in place</li> <li>Other pipelines can modify the <code>Token._.excluded</code> custom attribute</li> </ul> </li> <li>EDS regex and term matchers can ignore excluded tokens during matching, effectively adding a second dimension to normalisation (choice of the attribute and possibility to skip <em>pollution</em> tokens regardless of the attribute)</li> <li>Matching can be performed on custom attributes more easily</li> <li>Qualifiers are regrouped together within the <code>edsnlp.qualifiers</code> submodule, the inheritance from the <code>GenericMatcher</code> is dropped.</li> <li><code>edsnlp.utils.filter.filter_spans</code> now accepts a <code>label_to_remove</code> parameter. If set, only corresponding spans are removed, along with overlapping spans. Primary use-case: removing pseudo cues for qualifiers.</li> <li>Generalise the naming convention for extensions, which keep the same name as the pipeline that created them (eg <code>Span._.negation</code> for the <code><a href="../pipes/qualifiers/negation/#edsnlp.pipes.qualifiers.negation.factory.create_component">eds.negation</a></code> pipeline). The previous convention is kept for now, but calling it issues a warning.</li> <li>The <code>dates</code> pipeline underwent some light formatting to increase robustness and fix a few issues</li> <li>A new <code>consultation_dates</code> pipeline was added, which looks for dates preceded by expressions specific to consultation dates</li> <li>In rule-based processing, the <code>terms.py</code> submodule is replaced by <code>patterns.py</code> to reflect the possible presence of regular expressions</li> <li>Refactoring of the architecture :<ul> <li>pipelines are now regrouped by type (<code>core</code>, <code>ner</code>, <code>misc</code>, <code>qualifiers</code>)</li> <li><code>matchers</code> submodule contains <code>RegexMatcher</code> and <code>PhraseMatcher</code> classes, which interact with the normalisation</li> <li><code>multiprocessing</code> submodule contains <code>spark</code> and <code>local</code> multiprocessing tools</li> <li><code>connectors</code> contains <code>Brat</code>, <code>OMOP</code> and <code>LabelTool</code> connectors</li> <li><code>utils</code> contains various utilities</li> </ul> </li> <li>Add entry points to make pipeline usable directly, removing the need to import <code>edsnlp.components</code>.</li> <li>Add a <code>eds</code> namespace for components: for instance, <code>negation</code> becomes <code><a href="../pipes/qualifiers/negation/#edsnlp.pipes.qualifiers.negation.factory.create_component">eds.negation</a></code>. Using the former pipeline name still works, but issues a deprecation warning.</li> <li>Add 3 score pipelines related to emergency</li> <li>Add a helper function to use a spaCy pipeline as a Spark UDF.</li> <li>Fix alignment issues in RegexMatcher</li> <li>Change the alignment procedure, dropping clumsy <code>numpy</code> dependency in favour of <code>bisect</code></li> <li>Change the name of <code>eds.antecedents</code> to <code><a href="../pipes/qualifiers/history/#edsnlp.pipes.qualifiers.history.factory.create_component">eds.history</a></code>. Calling <code>eds.antecedents</code> still works, but issues a deprecation warning and support will be removed in a future version.</li> <li>Add a <code><a href="../pipes/ner/covid/#edsnlp.pipes.ner.covid.factory.create_component">eds.covid</a></code> component, that identifies mentions of COVID</li> <li>Change the demo, to include NER components</li> </ul> <h2 id=v032-2021-11-24>v0.3.2 (2021-11-24)</h2> <ul> <li>Major revamp of the normalisation.<ul> <li>The <code>normalizer</code> pipeline <strong>now adds atomic components</strong> (<code>lowercase</code>, <code>accents</code>, <code>quotes</code>, <code>pollution</code> &amp; <code>endlines</code>) to the processing pipeline, and compiles the results into a new <code>Doc._.normalized</code> extension. The latter is itself a spaCy <code>Doc</code> object, wherein tokens are normalised and pollution tokens are removed altogether. Components that match on the <code>CUSTOM_NORM</code> attribute process the <code>normalized</code> document, and matches are brought back to the original document using a token-wise mapping.</li> <li>Update the <code>RegexMatcher</code> to use the <code>CUSTOM_NORM</code> attribute</li> <li>Add an <code>EDSPhraseMatcher</code>, wrapping spaCy's <code>PhraseMatcher</code> to enable matching on <code>CUSTOM_NORM</code>.</li> <li>Update the <code>matcher</code> and <code>advanced</code> pipelines to enable matching on the <code>CUSTOM_NORM</code> attribute.</li> </ul> </li> <li>Add an OMOP connector, to help go back and forth between OMOP-formatted pandas dataframes and spaCy documents.</li> <li>Add a <code>reason</code> pipeline, that extracts the reason for visit.</li> <li>Add an <code>endlines</code> pipeline, that classifies newline characters between spaces and actual ends of line.</li> <li>Add possibility to annotate within entities for qualifiers (<code>negation</code>, <code>hypothesis</code>, etc), ie if the cue is within the entity. Disabled by default.</li> </ul> <h2 id=v031-2021-10-13>v0.3.1 (2021-10-13)</h2> <ul> <li>Update <code>dates</code> to remove miscellaneous bugs.</li> <li>Add <code>isort</code> pre-commit hook.</li> <li>Improve performance for <code>negation</code>, <code>hypothesis</code>, <code>antecedents</code>, <code>family</code> and <code>rspeech</code> by using spaCy's <code>filter_spans</code> and our <code>consume_spans</code> methods.</li> <li>Add proposition segmentation to <code>hypothesis</code> and <code>family</code>, enhancing results.</li> </ul> <h2 id=v030-2021-09-29>v0.3.0 (2021-09-29)</h2> <ul> <li>Renamed <code>generic</code> to <code>matcher</code>. This is a non-breaking change for the average user, adding the pipeline is still :</li> </ul> <div class="no-check highlight"><pre><span></span><code><span class=n>nlp</span><span class=o>.</span><span class=n>add_pipe</span><span class=p>(</span><span class=s2>&quot;matcher&quot;</span><span class=p>,</span> <span class=n>config</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span><span class=n>terms</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span><span class=n>maladie</span><span class=o>=</span><span class=s2>&quot;maladie&quot;</span><span class=p>)))</span>
</code></pre></div> <ul> <li>Removed <code>quickumls</code> pipeline. It was untested, unmaintained. Will be added back in a future release.</li> <li>Add <code>score</code> pipeline, and <code>charlson</code>.</li> <li>Add <code>advanced-regex</code> pipeline</li> <li>Corrected bugs in the <code>negation</code> pipeline</li> </ul> <h2 id=v020-2021-09-13>v0.2.0 (2021-09-13)</h2> <ul> <li>Add <code>negation</code> pipeline</li> <li>Add <code>family</code> pipeline</li> <li>Add <code>hypothesis</code> pipeline</li> <li>Add <code>antecedents</code> pipeline</li> <li>Add <code>rspeech</code> pipeline</li> <li>Refactor the library :<ul> <li>Remove the <code>rules</code> folder</li> <li>Add a <code>pipelines</code> folder, containing one subdirectory per component</li> <li>Every component subdirectory contains a module defining the component, and a module defining a factory, plus any other utilities (eg <code>terms.py</code>)</li> </ul> </li> </ul> <h2 id=v010-2021-09-29>v0.1.0 (2021-09-29)</h2> <p>First working version. Available pipelines :</p> <ul> <li><code>section</code></li> <li><code>sentences</code></li> <li><code>normalization</code></li> <li><code>pollution</code></li> </ul> <div class=footnote><hr><ol/></div> </article> </div> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href="../contributing/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Contributing to EDS-NLP" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Contributing to EDS-NLP </div> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href="https://squidfunk.github.io/mkdocs-material/" target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": ["navigation.tracking", "navigation.instant", "navigation.indexes", "navigation.prune", "navigation.top", "navigation.footer", "content.code.annotate", "content.code.copy", "announce.dismiss"], "search": "../assets/javascripts/workers/search.dfff1995.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "latest", "provider": "mike"}}</script> <script src=../assets/javascripts/bundle.dff1b7c8.min.js></script> <script src=https://cdn.jsdelivr.net/npm/vega@5></script> <script src=https://cdn.jsdelivr.net/npm/vega-lite@5></script> <script src=https://cdn.jsdelivr.net/npm/vega-embed@6></script> <script src=../assets/termynal/termynal.js></script> </body> </html>